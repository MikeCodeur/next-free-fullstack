# Server Action

### ğŸ’¡ Comprendre les server Actionb

## ğŸ“ Tes notes

Detaille ce que tu as appris ici,Â surÂ uneÂ pageÂ [Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

Les **Server Actions** sont une fonctionnalitÃ© puissante de Next.js qui permet d'exÃ©cuter du code cÃ´tÃ© serveur directement depuis un composant React, sans passer par une API externe. Contrairement aux API Routes traditionnelles, elles simplifient la gestion des actions serveur comme l'accÃ¨s Ã  une base de donnÃ©es, l'authentification ou l'envoi d'e-mails, tout en optimisant les performances grÃ¢ce Ã  l'exÃ©cution cÃ´tÃ© backend.

Dans ce module, nous allons dÃ©couvrir comment utiliser efficacement les Server Actions pour traiter des requÃªtes cÃ´tÃ© serveur, interagir avec une base de donnÃ©es et amÃ©liorer l'expÃ©rience utilisateur en rÃ©duisant le code nÃ©cessaire cÃ´tÃ© client.

Exemple

```tsx
// app/actions.ts
'use server'

import {db} from '@/lib/db' // Supposons que db soit une instance de ta base de donnÃ©es

export async function addUser(name: string, email: string) {
  await db.user.create({
    data: {name, email},
  })
}
```

```tsx
'use client'

import {useState} from 'react'
import {addUser} from '@/app/actions'

export default function UserForm() {
  const [name, setName] = useState('')
  const [email, setEmail] = useState('')

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    await addUser(name, email)
    alert('Utilisateur ajoutÃ© !')
  }

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={name}
        onChange={(e) => setName(e.target.value)}
        placeholder="Nom"
      />
      <input
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="Email"
      />
      <button type="submit">Ajouter</button>
    </form>
  )
}
```

ğŸ“‘ Le liens vers la doc [https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations)

## Exercice

ImplÃ©mente le formulaire et le server action qui appelle la base de donnÃ©es.

- Pense a vÃ©rifier les donnÃ©es en entrÃ©es
- Pense a fournir un code retour

Fichiers

- `/app/server-action/page`

##

## Aller plus loin

ğŸ“‘ Le lien vers la doc [https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations)

## Ils vont tâ€™aider

- **ğŸ¶ Mowgli le Chien** : _Mowgli te guidera dans chaque exercice._
- **ğŸ¤– Ash le Robot** : _Ash le Robot te donnera du code utile._
- **ğŸš€ Julia La roquette** : _Julia te donnera des dÃ©fis supplÃ©mentaires._
- **â›ï¸ Hulk le Marteau** : _Quand du code Ã  supprimer est prÃ©sent_
- **ğŸ‘¨â€âœˆï¸ Hugo le chef de projet** : _Va t'aider sur les spÃ©cifications du projet_
